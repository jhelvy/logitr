<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • logitr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://jhelvy.github.io/logitr/reference/figures/logo.png"><meta property="og:image:alt" content="Logo for the logitr package"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@JohnHelveston"><meta name="twitter:site" content="@JohnHelveston"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">logitr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/basic_usage.html">Basic Usage</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/utility_models.html">Utility Models in the Preference &amp; WTP Space</a>
    </li>
    <li>
      <a href="../articles/data_formatting.html">Data Formatting and Encoding</a>
    </li>
    <li>
      <a href="../articles/mnl_models.html">Estimating Multinomial Logit Models</a>
    </li>
    <li>
      <a href="../articles/mxl_models.html">Estimating Mixed Logit Models</a>
    </li>
    <li>
      <a href="../articles/interactions.html">Estimating Models with Interactions</a>
    </li>
    <li>
      <a href="../articles/mnl_models_weighted.html">Estimating Weighted Logit Models</a>
    </li>
    <li>
      <a href="../articles/predict.html">Predicting Probabilities and Outcomes with Estimated Models</a>
    </li>
    <li>
      <a href="../articles/summarizing_results.html">Summarizing Results</a>
    </li>
    <li>
      <a href="../articles/benchmark.html">Benchmarking estimation speed against other packages</a>
    </li>
    <li>
      <a href="../articles/convergence.html">WTP space convergence issues in other packages</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jhelvy/logitr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/jhelvy/logitr/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="development version" id="logitr-development-version">logitr (development version)<a class="anchor" aria-label="anchor" href="#logitr-development-version"></a></h2>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.1" id="logitr-111">logitr 1.1.1<a class="anchor" aria-label="anchor" href="#logitr-111"></a></h2>
<ul><li>Updated the <code>convergence.Rmd</code> vignette to not run any actual code using other packages to fix issue on CRAN where not all packages are available on all platforms. Now the results are hard-coded in place.</li>
<li>Fixed bug in <code>makeObsID()</code> where <code><a href="https://rdrr.io/r/base/table.html" class="external-link">table()</a></code> was sorting the results stored in <code>reps</code>, which has to be manually undone. Fixes <a href="https://github.com/jhelvy/logitr/issues/50" class="external-link">#50</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.0" id="logitr-110">logitr 1.1.0<small>2023-05-17</small><a class="anchor" aria-label="anchor" href="#logitr-110"></a></h2>
<ul><li>Modified <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method to use the <code>interval</code> and <code>level</code> arguments of more standard <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> methods.</li>
<li>Added <code><a href="../reference/ci.html">ci()</a></code> function.</li>
<li>Added <code><a href="../reference/logit_probs.html">logit_probs()</a></code> function.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.1" id="logitr-101">logitr 1.0.1<small>2023-02-19</small><a class="anchor" aria-label="anchor" href="#logitr-101"></a></h2>
<ul><li>Fixed bug in <code>adjustFactorLevels()</code> where the <code>levels_orig</code> object was being accidentally overwritten.</li>
<li>Changed the name of <code>adjustFactorLevels()</code> to <code>checkFactorLevels()</code>.</li>
<li>Added a startup message when the package is loaded.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.0" id="logitr-100">logitr 1.0.0<small>2023-02-07</small><a class="anchor" aria-label="anchor" href="#logitr-100"></a></h2>
<ul><li>Added JSS article DOI throughout package documentation.</li>
<li>Fixed bug <a href="https://github.com/jhelvy/logitr/issues/41" class="external-link">#41</a> where the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method would error if factor levels were missing in <code>newdata</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.0" id="logitr-080">logitr 0.8.0<small>2022-10-03</small><a class="anchor" aria-label="anchor" href="#logitr-080"></a></h2>
<ul><li>Added <code><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy()</a></code>, <code><a href="https://generics.r-lib.org/reference/glance.html" class="external-link">glance()</a></code>, and <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> methods for use with the {broom} package.</li>
<li>Added <code><a href="../reference/model.matrix.logitr.html">model.matrix.logitr()</a></code>, <code><a href="../reference/miscmethods.logitr.html">terms.logitr()</a></code>, and <code><a href="../reference/model.frame.logitr.html">model.frame.logitr()</a></code> methods for use with {broom.helpers}.</li>
<li>Added new vignette comparing convergence issues in WTP space models with other similar packages.</li>
<li>Added new vignette on summarizing results from estimated models.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.2" id="logitr-072">logitr 0.7.2<a class="anchor" aria-label="anchor" href="#logitr-072"></a></h2>
<ul><li>Checks were added to make the <code>panelID</code> and <code>clusterUD</code> variables a sequentially increasing numeric vector and to stop the program if there are any repeated IDs in these variables.</li>
<li>A patch was added to address a bug in the computation of clustered errors where the data in clusters of size 1 needed to be forced into a matrix with correct dimensions.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.1" id="logitr-071">logitr 0.7.1<a class="anchor" aria-label="anchor" href="#logitr-071"></a></h2>
<ul><li>A patch was added to make the <code>obsID</code> variable a sequentially increasing numeric vector (this was previously done but was accidentally removed in prior updates).</li>
<li>A patch was added to pass the <code>modelSpace</code> variable along inside the <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code> method.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.0" id="logitr-070">logitr 0.7.0<small>2022-06-16</small><a class="anchor" aria-label="anchor" href="#logitr-070"></a></h2>
<ul><li>A new vignette on benchmarking was added which tests the package speed against other similar packages.</li>
<li>A new data set, <code>runtimes</code>, was included, which is exported from the colab notebook used for benchmarking here: <a href="https://colab.research.google.com/drive/1vYlBdJd4xCV43UwJ33XXpO3Ys8xWkuxx?usp=sharing" class="external-link uri">https://colab.research.google.com/drive/1vYlBdJd4xCV43UwJ33XXpO3Ys8xWkuxx?usp=sharing</a>
</li>
<li>Sobol draws are supported via a new <code>drawType</code> argument.</li>
<li>A warning is displayed against using Halton draws after 5 random variables have been specified in a mixed logit model. Users are encouraged to switch to using Sobol draws and increasing the number of draws to at least 200.</li>
<li>Changed the argument name <code>price</code> to <code>scalePar</code> to be more general.</li>
<li>Changed the argument name <code>randPrice</code> to <code>randScale</code> to be more general.</li>
<li>The <code>modelSpace</code> argument is no longer required for specifying a WTP space model as it is redundant. Including a <code>scalePar</code> argument is enough to determine that it is a WTP space model.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.1" id="logitr-061">logitr 0.6.1<small>2022-06-12</small><a class="anchor" aria-label="anchor" href="#logitr-061"></a></h2>
<ul><li>Fixes error on some of the gradient tests from 0.6.0 release. The gradient tests were sensitive to the random starting parameters, so I modified how the starting parameters were set for the first iteration of a multistart loop such that they would be more consistent.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.0" id="logitr-060">logitr 0.6.0<small>2022-06-11</small><a class="anchor" aria-label="anchor" href="#logitr-060"></a></h2>
<ul><li>Added the <code>correlation</code> argument to include correlated heterogeneity.</li>
<li>Added support for new mixed logit distributions: zero-censored normal</li>
<li>Added new input checks for the <code>obsID</code> and <code>outcome</code> arguments.</li>
<li>
<code><a href="../reference/vcov.logitr.html">vcov.logitr()</a></code> method now returns <code>object$vcov</code> if the user set <code>vcov = TRUE</code> during estimation (avoids a redundant calculation of <code>vcov</code>, which is more efficient).</li>
<li>Added new datasets: <code>apolloModeChoiceData</code>, <code>electricity</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.1" id="logitr-051">logitr 0.5.1<a class="anchor" aria-label="anchor" href="#logitr-051"></a></h2>
<ul><li>Patched a bug in how standard errors were being computed when clustering. The source of the error was in re-scaling results post-estimation.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.0" id="logitr-050">logitr 0.5.0<small>2022-01-04</small><a class="anchor" aria-label="anchor" href="#logitr-050"></a></h2>
<ul><li>The multistart optimization loop is now parallelized.</li>
<li>Exported the <code><a href="../reference/fquantile.html">fquantile()</a></code> function, which is a faster implementation of the <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">stats::quantile()</a></code> function.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="logitr-040">logitr 0.4.0<small>2021-10-25</small><a class="anchor" aria-label="anchor" href="#logitr-040"></a></h2>
<div class="section level3">
<h3 id="larger-changes-0-4-0">Larger changes:<a class="anchor" aria-label="anchor" href="#larger-changes-0-4-0"></a></h3>
<ul><li>A new <code><a href="../reference/predict.logitr.html">predict.logitr()</a></code> method was added for making probability and choice predictions from logitr class objects.</li>
<li>The <code><a href="../reference/predictProbs.html">predictProbs()</a></code> and <code><a href="../reference/predictChoices.html">predictChoices()</a></code> functions were depreciated.</li>
<li>Added new <code><a href="../reference/fitted.logitr.html">fitted.logitr()</a></code> and <code><a href="../reference/residuals.logitr.html">residuals.logitr()</a></code> methods.</li>
<li>Added optional <code>predict</code> argument to the main <code><a href="../reference/logitr.html">logitr()</a></code> function which controls whether predicted probabilities, fitted.values, and residuals are included in the returned object. Default setting is TRUE.</li>
<li>Changed the name of the coefficients vector in the returned object from “coef” to “coefficients” to be consistent with other packages.</li>
<li>Changed the argument name from “choice” to “outcome” to be more general</li>
</ul></div>
<div class="section level3">
<h3 id="bugs-0-4-0">Bugs:<a class="anchor" aria-label="anchor" href="#bugs-0-4-0"></a></h3>
<ul><li>Fixed bug where the returned object contained the scaled data rather than the original, unscaled data</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.1" id="logitr-031">logitr 0.3.1<a class="anchor" aria-label="anchor" href="#logitr-031"></a></h2>
<ul><li>Bug fix: Cast X object to matrix for single-parameter models</li>
<li>Updated the logic for clustering with and without panel data</li>
<li>Added the <code><a href="../reference/se.logitr.html">se.logitr()</a></code> method.</li>
<li>Added the <code>vcov</code> argument to the <code><a href="../reference/logitr.html">logitr()</a></code> function.</li>
<li>Improved vignette on interaction models with individual-specific variable interactions.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="logitr-030">logitr 0.3.0<small>2021-08-13</small><a class="anchor" aria-label="anchor" href="#logitr-030"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-with-v020-0-3-0">Breaking changes with v0.2.0:<a class="anchor" aria-label="anchor" href="#breaking-changes-with-v020-0-3-0"></a></h3>
<ul><li>Several arguments were moved out of the previous <code>options</code> argument and are now passed directly as arguments to <code><a href="../reference/logitr.html">logitr()</a></code>. These include: <code>numMultiStarts</code>, <code>useAnalyticGrad</code>, <code>scaleInputs</code>, <code>startParBounds</code>, <code>standardDraws</code>, <code>numDraws</code>, <code>startVals</code>. The <code>options</code> argument is now only used for options to control the optimization handled by <code>nloptr()</code>.</li>
<li>Options for keeping all model outputs on a multistart were removed.</li>
</ul></div>
<div class="section level3">
<h3 id="summary-of-larger-updates-0-3-0">Summary of larger updates:<a class="anchor" aria-label="anchor" href="#summary-of-larger-updates-0-3-0"></a></h3>
<ul><li>Added support for panel data in the log-likelihood function and gradients.</li>
<li>Several argument names in the <code><a href="../reference/logitr.html">logitr()</a></code> function were changed to make them easier to understand: <code>choiceName</code> became <code>choice</code>, <code>obsIDName</code> became <code>obsID</code>, <code>parNames</code> became <code>pars</code>, <code>priceName</code> became <code>price</code>, <code>weightsName</code> became <code>weights</code>, <code>clusterName</code> became <code>cluster</code>. If used, old names will be passed to the new argument names and a warning will be displayed.</li>
<li>The log-likelihood and gradient functions were overhauled to improve computational efficiency, resulting in substantially faster estimation for all models.</li>
<li>The following new methods were introduced: <code><a href="../reference/miscmethods.logitr.html">print.logitr()</a></code>, <code><a href="../reference/miscmethods.logitr.html">logLik.logitr()</a></code>, <code><a href="../reference/miscmethods.logitr.html">coef.summary.logitr()</a></code>, <code><a href="../reference/vcov.logitr.html">vcov.logitr()</a></code>, <code><a href="../reference/miscmethods.logitr.html">terms.logitr()</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="summary-of-smaller-updates-0-3-0">Summary of smaller updates:<a class="anchor" aria-label="anchor" href="#summary-of-smaller-updates-0-3-0"></a></h3>
<ul><li>Improved <code><a href="../reference/miscmethods.logitr.html">summary.logitr()</a></code> and <code><a href="../reference/miscmethods.logitr.html">coef.logitr()</a></code> methods for better printing, now using <code><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat()</a></code>.</li>
<li>Added input checks for <code><a href="../reference/wtp.html">wtp()</a></code> and <code><a href="../reference/wtpCompare.html">wtpCompare()</a></code> functions</li>
<li>Fixed some errors in some of the documentation examples and removed the dontrun commands on all of them.</li>
<li>Added the <code>altIDName</code> argument to <code><a href="../reference/predictChoices.html">predictChoices()</a></code> and <code><a href="../reference/predictProbs.html">predictProbs()</a></code> to preserve the row order of predictions for each alternative in each set of alternatives. Closes issue <a href="https://github.com/jhelvy/logitr/issues/13" class="external-link">#13</a>.</li>
<li>Fixed bug in data encoding where random parameter names were not aligned with encoded data.</li>
<li>Added input checks for all predict functions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.7" id="logitr-027">logitr 0.2.7<a class="anchor" aria-label="anchor" href="#logitr-027"></a></h2>
<p>Added support for panel data in the log-likelihood function and gradients</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.6" id="logitr-026">logitr 0.2.6<a class="anchor" aria-label="anchor" href="#logitr-026"></a></h2>
<p>Major changes were made to the gradient functions, which dramatically improved computational efficiency. MNL and MXL models in either preference or WTP spaces now use the faster implementation of the logit calculations.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.5" id="logitr-025">logitr 0.2.5<a class="anchor" aria-label="anchor" href="#logitr-025"></a></h2>
<p>This version was the first implementation of an alternative approach for computing the logit probabilities, which increased computational speed. Specifically, the formulation was to compute P = 1 / (1 + sum(exp(V - V_chosen)))</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.4" id="logitr-024">logitr 0.2.4<a class="anchor" aria-label="anchor" href="#logitr-024"></a></h2>
<p>The <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code> method was modified such that it computes the covariance post model estimation. Previously, the covariance matrix was being computed internally in the <code><a href="../reference/logitr.html">logitr()</a></code> function, and <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code> just returned this value, which was computationally much slower.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.3" id="logitr-023">logitr 0.2.3<a class="anchor" aria-label="anchor" href="#logitr-023"></a></h2>
<p><strong>Several breaking changes in this version</strong>.</p>
<ul><li>Several argument names were changed to make them easier to understand. These include: <code>choiceName</code> –&gt; <code>choice</code>, <code>obsIDName</code> –&gt; <code>obsID</code>, <code>parNames</code> –&gt; <code>pars</code>, <code>priceName</code> –&gt; <code>price</code>, <code>weightsName</code> –&gt; <code>weights</code>, <code>clusterName</code> –&gt; <code>cluster</code>.</li>
<li>Several arguments were moved out of the previous <code>options</code> argument and are now passed directly as arguments to <code><a href="../reference/logitr.html">logitr()</a></code>. These include: <code>numMultiStarts</code>, <code>useAnalyticGrad</code>, <code>scaleInputs</code>, <code>startParBounds</code>, <code>standardDraws</code>, <code>numDraws</code>, <code>startVals</code>.</li>
<li>Some minor tweaks to printing methods.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.2" id="logitr-022">logitr 0.2.2<a class="anchor" aria-label="anchor" href="#logitr-022"></a></h2>
<ul><li>Improved <code><a href="../reference/miscmethods.logitr.html">summary.logitr()</a></code> and <code><a href="../reference/miscmethods.logitr.html">coef.logitr()</a></code> methods for better printing, using <code><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat()</a></code>
</li>
<li>Added new methods: <code><a href="../reference/miscmethods.logitr.html">print.logitr()</a></code>, <code><a href="../reference/miscmethods.logitr.html">logLik.logitr()</a></code>, <code><a href="../reference/miscmethods.logitr.html">coef.summary.logitr()</a></code>, <code><a href="../reference/vcov.logitr.html">vcov.logitr()</a></code>
</li>
<li>Removed option for keeping all model outputs.</li>
<li>Added input checks for <code><a href="../reference/wtp.html">wtp()</a></code> and <code><a href="../reference/wtpCompare.html">wtpCompare()</a></code> functions</li>
<li>Fixed some errors in some of the examples and made them all run (removed dontrun commands).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.1" id="logitr-021">logitr 0.2.1<a class="anchor" aria-label="anchor" href="#logitr-021"></a></h2>
<ul><li>Added <code>altIDName</code> argument to <code><a href="../reference/predictChoices.html">predictChoices()</a></code> and <code><a href="../reference/predictProbs.html">predictProbs()</a></code> to preserve the row order of predictions for each alternative in each set of alternatives. Closes issue <a href="https://github.com/jhelvy/logitr/issues/13" class="external-link">#13</a>.</li>
<li>Fixed bug in data encoding where random parameter names were not aligned with encoded data.</li>
<li>Added input checks for all predict functions.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="logitr-020">logitr 0.2.0<small>2021-06-14</small><a class="anchor" aria-label="anchor" href="#logitr-020"></a></h2>
<div class="section level3">
<h3 id="summary-of-larger-updates-0-2-0">Summary of larger updates:<a class="anchor" aria-label="anchor" href="#summary-of-larger-updates-0-2-0"></a></h3>
<ul><li>New prediction functions: <code><a href="../reference/predictChoices.html">predictChoices()</a></code> and <code><a href="../reference/predictProbs.html">predictProbs()</a></code>, and , depreciated <code><a href="../reference/simulateShares.html">simulateShares()</a></code>.</li>
<li>Added robust covariance matrix calculations.</li>
<li>Added support for clustering errors.</li>
<li>Major modifications to the <code><a href="../reference/recodeData.html">recodeData()</a></code> function to improve encoding efficiency.</li>
<li>Depreciated <code><a href="../reference/dummyCode.html">dummyCode()</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="summary-of-smaller-updates-0-2-0">Summary of smaller updates:<a class="anchor" aria-label="anchor" href="#summary-of-smaller-updates-0-2-0"></a></h3>
<ul><li>Improved documentation across all vignettes for new features.</li>
<li>Improved explanation of preference space and WTP space utility models in vignettes.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.5" id="logitr-015">logitr 0.1.5<a class="anchor" aria-label="anchor" href="#logitr-015"></a></h2>
<ul><li>Added robust covariance matrix calculations.</li>
<li>Added support for clustering errors.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.4" id="logitr-014">logitr 0.1.4<a class="anchor" aria-label="anchor" href="#logitr-014"></a></h2>
<ul><li>Added <code><a href="../reference/predictChoices.html">predictChoices()</a></code> function.</li>
<li>Added <code>predictShares()</code> function, depreciating <code><a href="../reference/simulateShares.html">simulateShares()</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.3" id="logitr-013">logitr 0.1.3<a class="anchor" aria-label="anchor" href="#logitr-013"></a></h2>
<ul><li>Modified the <code><a href="../reference/recodeData.html">recodeData()</a></code> and <code><a href="../reference/dummyCode.html">dummyCode()</a></code> functions for improved speed.</li>
<li>Updated <code><a href="../reference/simulateShares.html">simulateShares()</a></code> to work with the automatic dummy coding from the revised <code><a href="../reference/recodeData.html">recodeData()</a></code> and <code><a href="../reference/dummyCode.html">dummyCode()</a></code> functions.</li>
<li>Added support for <code><a href="../reference/simulateShares.html">simulateShares()</a></code> to compute shares for multiple sets of alternatives.</li>
<li>Added tests for encoding functions</li>
<li>Added covariance matrix to model export</li>
</ul><div class="section level3">
<h3 id="bugs-0-1-3">Bugs<a class="anchor" aria-label="anchor" href="#bugs-0-1-3"></a></h3>
<ul><li>When simulating shares from a WTP model, only accepted a price named “price” rather than something else such as “Price” - fixed this.</li>
<li>In <code><a href="../reference/simulateShares.html">simulateShares()</a></code>, the shares were not correctly computed with a WTP space model because price was still being multiplied by -1. This has been corrected.</li>
<li>Changes to automatic dummy coding were accidentally ignoring factor levels - that’s been fixed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.2" id="logitr-012">logitr 0.1.2<a class="anchor" aria-label="anchor" href="#logitr-012"></a></h2>
<ul><li>Fixed bug where model with single variable would error due to a matrix being converted to a vector in the <code>standardDraws()</code> function</li>
<li>Fixed bug in <code>getCatVarDummyNames()</code> - previously used string matching, which can accidentally match with other similarly-named variables.</li>
<li>Fixed bug in <code><a href="https://rdrr.io/r/base/rowsum.html" class="external-link">rowsum()</a></code> where the <code>reorder</code> argument was set to <code>TRUE</code>, which resulted in wrong logit calculations unless the <code>obsID</code> happened to be already sorted.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.1" id="logitr-011">logitr 0.1.1<a class="anchor" aria-label="anchor" href="#logitr-011"></a></h2>
<ul><li>Changed how failures to converge are handled. Previously would continue to run a while loop. Now it fails and records the failure, along with appropriate changes in summary() and coef().</li>
<li>Re-defined the wtp space utility models as B<em>X - p. Before it was p + B</em>X and p was re-defined as -1*p.</li>
<li>If tidyverse library is loaded, data frames were getting converted to tibbles, which broke some things. Fixed this by forcing the input data to be a data.frame()</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="logitr-010">logitr 0.1.0<small>2021-01-19</small><a class="anchor" aria-label="anchor" href="#logitr-010"></a></h2>
<div class="section level3">
<h3 id="summary-of-larger-updates-0-1-0">Summary of larger updates:<a class="anchor" aria-label="anchor" href="#summary-of-larger-updates-0-1-0"></a></h3>
<ul><li>v0.1.0 Submitted to CRAN!</li>
</ul></div>
<div class="section level3">
<h3 id="summary-of-smaller-updates-0-1-0">Summary of smaller updates:<a class="anchor" aria-label="anchor" href="#summary-of-smaller-updates-0-1-0"></a></h3>
<ul><li>Reduced the length of the title in DESCRIPTION to less than 65 characters.</li>
<li>Changed package names in title and description to single quotes, e.g: {nloptr} -&gt; ‘nloptr’</li>
<li>Added reference in description with doi to Train (2009) “Discrete Choice Methods with Simulation, 2nd Edition”.</li>
<li>Added statements to dummyCode.Rd and statusCodes.Rd</li>
<li>Added statements to dummyCode.Rd and statusCodes.Rd.</li>
<li>Updated description for summary.logitr.Rd.</li>
<li>Modified multiple functions to use message()/warning() instead of print()/cat().</li>
<li>Added <code>algorithm</code> to the <code>options</code> input, with the default being set to <code>"NLOPT_LD_LBFGS"</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bugs-0-1-0">Bugs<a class="anchor" aria-label="anchor" href="#bugs-0-1-0"></a></h3>
<ul><li>Fixed tiny bug in <code>getParTypes()</code> function - previously was not returning the correct <code>parNames</code> for continuous vs. discrete variables.</li>
<li>Added an input check to make sure the modelSpace argument is either <code>"pref"</code> or <code>"wtp"</code>.</li>
<li>Added an input check to make sure the <code>priceName</code> argument is only used when the <code>modelSpace</code> argument is set to <code>"wtp"</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.5" id="logitr-005">logitr 0.0.5<a class="anchor" aria-label="anchor" href="#logitr-005"></a></h2>
<div class="section level3">
<h3 id="summary-of-larger-updates-0-0-5">Summary of larger updates:<a class="anchor" aria-label="anchor" href="#summary-of-larger-updates-0-0-5"></a></h3>
<ul><li>Added support for auto creating interactions among variables</li>
<li>exported <code>getCoefTable()</code> function</li>
</ul></div>
<div class="section level3">
<h3 id="summary-of-smaller-updates-0-0-5">Summary of smaller updates:<a class="anchor" aria-label="anchor" href="#summary-of-smaller-updates-0-0-5"></a></h3>
<ul><li>Added new documentation for prepping data:
<ul><li>overall structure</li>
<li>dummyCode() function</li>
<li>handling interactions</li>
</ul></li>
<li>All vignettes proof-read with lots of small changes to examples</li>
<li>Added a hex sticker</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.4" id="logitr-004">logitr 0.0.4<a class="anchor" aria-label="anchor" href="#logitr-004"></a></h2>
<p>Weighted models, new dataset, new encoding features</p>
<div class="section level3">
<h3 id="summary-of-larger-updates-0-0-4">Summary of larger updates:<a class="anchor" aria-label="anchor" href="#summary-of-larger-updates-0-0-4"></a></h3>
<ul><li>Added support for estimating weighted regressions</li>
<li>Added and improved documentation for new datasets: <code>yogurt</code>, <code>cars_china</code>, <code>cars_us</code>
</li>
<li>Exported the <code><a href="../reference/dummyCode.html">dummyCode()</a></code> function for automatically creating dummy-coded variables in a data frame.</li>
<li>Added support for auto dummy-coding categorical variables prior to model estimation</li>
<li>Major overhaul of documentation using {pkgdown}</li>
</ul></div>
<div class="section level3">
<h3 id="summary-of-smaller-updates-0-0-4">Summary of smaller updates:<a class="anchor" aria-label="anchor" href="#summary-of-smaller-updates-0-0-4"></a></h3>
<ul><li>Changed license to MIT (after doing a bit of reading up on this)</li>
<li>Fixed dimension-matching issue with user-provided draws for mixed logit models</li>
<li>Fixed bug in <code>modelInputs</code> where <code>obsID</code> was not a vector for tibble inputs</li>
<li>Added placeholder hex sticker</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.3" id="logitr-003">logitr 0.0.3<a class="anchor" aria-label="anchor" href="#logitr-003"></a></h2>
<p>New simulation functionality</p>
<div class="section level3">
<h3 id="summary-of-larger-updates-0-0-3">Summary of larger updates:<a class="anchor" aria-label="anchor" href="#summary-of-larger-updates-0-0-3"></a></h3>
<ul><li>Added support for simulating shares for a set of alternatives given an estimated model: <code><a href="../reference/simulateShares.html">simulateShares()</a></code>. This is similar to the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> function in mlogit.</li>
<li>Removed support for using an estimated preference space model as an input in the <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> function. I found this just far too confusing, and instead encourage users to supply a WTP space model with the computed WTP from a preference space model as starting parameters.</li>
</ul></div>
<div class="section level3">
<h3 id="summary-of-smaller-updates-0-0-3">Summary of smaller updates:<a class="anchor" aria-label="anchor" href="#summary-of-smaller-updates-0-0-3"></a></h3>
<ul><li>Updated the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> and main <code><a href="../reference/logitr.html">logitr()</a></code> functions to keep the basic information (run #, log-likelihood value, number of iterations, and output status) whenever <code>numMultistarts</code> &gt; 1. Previously this information was only kept if <code>keepAllRuns</code> was set to <code>TRUE</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.2" id="logitr-002">logitr 0.0.2<a class="anchor" aria-label="anchor" href="#logitr-002"></a></h2>
<p>Updates to options and a few small bug fixes</p>
<div class="section level3">
<h3 id="summary-of-larger-updates-0-0-2">Summary of larger updates:<a class="anchor" aria-label="anchor" href="#summary-of-larger-updates-0-0-2"></a></h3>
<ul><li>I got rid of the <code>logitr.summary()</code> function and instead added the <code>logitr</code> class to all the models and renamed the summary function to <code><a href="../reference/miscmethods.logitr.html">summary.logitr()</a></code>. Now you can just use the standard <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function to summarize model results.</li>
<li>I finally fixed the analytic gradient for WTP space MXL models. I tested analytic versus numeric for WTP space and Preference Space MXL models and they are all identical, including variations of using normally and log-normally distributed parameters.</li>
<li>Added startParBounds as an argument in options.</li>
</ul></div>
<div class="section level3">
<h3 id="smaller-updates-0-0-2">Smaller updates:<a class="anchor" aria-label="anchor" href="#smaller-updates-0-0-2"></a></h3>
<ul><li>Changed the summary() function to print more digits in the summary table.</li>
<li>Rounded printing of the elapsed time in the summary table.</li>
<li>Forced the sigma values in MXL models to be positive using abs(). Negative values for sigma parameters should not be an issue because the standard normal is symmetric.</li>
<li>Changed the summary of random parameters to show “summary of 10k draws”</li>
<li>Updated hessian to always use numeric approx for SE calculation since it’s faster.</li>
<li>Made scaleInputs default to <code>TRUE</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bugs-fixed-0-0-2">Bugs fixed:<a class="anchor" aria-label="anchor" href="#bugs-fixed-0-0-2"></a></h3>
<ul><li>If the prefSpaceModel was a multistart, it was grabbing the correct bestModel for the WTP calculations, but not the logLik value. Now it’s getting the right logLik value too.</li>
<li>Fixed a bug with the scaling option where it was blowing up to use scaling numbers.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.1" id="logitr-001">logitr 0.0.1<a class="anchor" aria-label="anchor" href="#logitr-001"></a></h2>
<p>Full reboot of logitr!</p>
<p>Long overdue, I decided to give the logitr program a full overhaul. This is the first version that is compiled as a proper R package that can be directly installed from GitHub. This version is much more robust and flexible than the prior, clunky collection of R files that I had previously been using to estimate logit models.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by John Helveston.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

