<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WTP space convergence issues in other packages • logitr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="WTP space convergence issues in other packages">
<meta property="og:description" content="logitr">
<meta property="og:image" content="https://jhelvy.github.io/logitr/reference/figures/logo.png">
<meta property="og:image:alt" content="Logo for the logitr package">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@JohnHelveston">
<meta name="twitter:site" content="@JohnHelveston">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">logitr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/basic_usage.html">Basic Usage</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/utility_models.html">Utility Models in the Preference &amp; WTP Space</a>
    </li>
    <li>
      <a href="../articles/data_formatting.html">Data Formatting and Encoding</a>
    </li>
    <li>
      <a href="../articles/mnl_models.html">Estimating Multinomial Logit Models</a>
    </li>
    <li>
      <a href="../articles/mxl_models.html">Estimating Mixed Logit Models</a>
    </li>
    <li>
      <a href="../articles/interactions.html">Estimating Models with Interactions</a>
    </li>
    <li>
      <a href="../articles/mnl_models_weighted.html">Estimating Weighted Logit Models</a>
    </li>
    <li>
      <a href="../articles/predict.html">Predicting Probabilities and Outcomes with Estimated Models</a>
    </li>
    <li>
      <a href="../articles/summarizing_results.html">Summarizing Results</a>
    </li>
    <li>
      <a href="../articles/benchmark.html">Benchmarking estimation speed against other packages</a>
    </li>
    <li>
      <a href="../articles/convergence.html">WTP space convergence issues in other packages</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jhelvy/logitr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="convergence_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>WTP space convergence issues in other packages</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jhelvy/logitr/blob/HEAD/vignettes/convergence.Rmd" class="external-link"><code>vignettes/convergence.Rmd</code></a></small>
      <div class="hidden name"><code>convergence.Rmd</code></div>

    </div>

    
    
<p>Given the non-linear utility specification of WTP space models, these models often diverge during estimation and can be highly sensitive to starting parameters. While many other packages support the estimation of WTP space models, in practice these packages often fail to find solutions.</p>
<p>Compared to most other packages, {logitr} tends to perform better and converge more often. It also has a built-in, parallelized multi-start optimization loop for searching for different local minima from different random starting points when minimizing the negative log-likelihood, which improves the odds of converging to a solution for at least some of the multi-start iterations.</p>
<p>This vignette illustrates the convergence issues, comparing the performance of {logitr} to the following R packages that support WTP space models:</p>
<ul>
<li>{logitr}</li>
<li>{mixl}</li>
<li>{mlogit}</li>
<li>{gmnl}</li>
<li>{apollo}</li>
</ul>
<p>For the same mixed logit WTP space model, only {logitr} is able to consistently converge to a solution.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<div class="section level3">
<h3 id="basic-settings">Basic settings<a class="anchor" aria-label="anchor" href="#basic-settings"></a>
</h3>
<p>First load the required packages:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jhelvy/logitr" class="external-link">logitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cran.r-project.org/package=mlogit" class="external-link">mlogit</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://msarrias.com/description.html" class="external-link">gmnl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.apolloChoiceModelling.com" class="external-link">apollo</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joemolloy/fast-mixed-mnl" class="external-link">mixl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span></code></pre></div>
<p>Now set the starting parameters for each package as well as the number of draws to use for the simulated log-likelihood:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">numDraws_wtp</span> <span class="op">&lt;-</span> <span class="fl">50</span></span>
<span><span class="va">start_wtp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    scalePar        <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    feat            <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    brandhiland     <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    brandweight     <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    brandyoplait    <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    sd_feat         <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    sd_brandhiland  <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    sd_brandweight  <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>    sd_brandyoplait <span class="op">=</span> <span class="fl">0.1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Take only half of the yogurt data to speed things up:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yogurt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="fu">logitr</span><span class="fu">::</span><span class="va"><a href="../reference/yogurt.html">yogurt</a></span>, <span class="fu">logitr</span><span class="fu">::</span><span class="va"><a href="../reference/yogurt.html">yogurt</a></span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="package-specific-settings">Package-specific settings<a class="anchor" aria-label="anchor" href="#package-specific-settings"></a>
</h3>
<p>Both {apollo} and {mixl} require that the user hand-specify the model to be estimated as well as several other settings. These settings are provided here.</p>
<div class="section level4">
<h4 id="prep-for-gmnl">Prep for {gmnl}<a class="anchor" aria-label="anchor" href="#prep-for-gmnl"></a>
</h4>
<p>Convert the yogurt data for into the format required for {gmnl}</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_gmnl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mlogit/man/mlogit-deprecated.html" class="external-link">mlogit.data</a></span><span class="op">(</span></span>
<span>    data     <span class="op">=</span> <span class="va">yogurt</span>,</span>
<span>    shape    <span class="op">=</span> <span class="st">"long"</span>,</span>
<span>    choice   <span class="op">=</span> <span class="st">"choice"</span>,</span>
<span>    id.var   <span class="op">=</span> <span class="st">'id'</span>,</span>
<span>    alt.var  <span class="op">=</span> <span class="st">'alt'</span>,</span>
<span>    chid.var <span class="op">=</span> <span class="st">'obsID'</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="prep-for-apollo">Prep for {apollo}<a class="anchor" aria-label="anchor" href="#prep-for-apollo"></a>
</h4>
<p>Format the <code>yogurt</code> data to a “wide” format for {apollo}</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yogurt_price</span> <span class="op">&lt;-</span> <span class="va">yogurt</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">obsID</span>, <span class="va">price</span>, <span class="va">brand</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>price <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">*</span><span class="va">price</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>        names_from  <span class="op">=</span> <span class="st">'brand'</span>,</span>
<span>        values_from <span class="op">=</span> <span class="st">'price'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>        price_dannon  <span class="op">=</span> <span class="va">dannon</span>,</span>
<span>        price_hiland  <span class="op">=</span> <span class="va">hiland</span>,</span>
<span>        price_weight  <span class="op">=</span> <span class="va">weight</span>,</span>
<span>        price_yoplait <span class="op">=</span> <span class="va">yoplait</span><span class="op">)</span></span>
<span><span class="va">yogurt_feat</span> <span class="op">&lt;-</span> <span class="va">yogurt</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">obsID</span>, <span class="va">feat</span>, <span class="va">brand</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>        names_from <span class="op">=</span> <span class="st">'brand'</span>,</span>
<span>        values_from <span class="op">=</span> <span class="st">'feat'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>        feat_dannon  <span class="op">=</span> <span class="va">dannon</span>,</span>
<span>        feat_hiland  <span class="op">=</span> <span class="va">hiland</span>,</span>
<span>        feat_weight  <span class="op">=</span> <span class="va">weight</span>,</span>
<span>        feat_yoplait <span class="op">=</span> <span class="va">yoplait</span><span class="op">)</span></span>
<span><span class="va">yogurt_choice</span> <span class="op">&lt;-</span> <span class="va">yogurt</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">choice</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">obsID</span>, choice <span class="op">=</span> <span class="va">alt</span><span class="op">)</span></span>
<span><span class="va">data_apollo</span> <span class="op">&lt;-</span> <span class="va">yogurt_price</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">yogurt_feat</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'id'</span>, <span class="st">'obsID'</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">yogurt_choice</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'id'</span>, <span class="st">'obsID'</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">obsID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>      av_dannon  <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      av_hiland  <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      av_weight  <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      av_yoplait <span class="op">=</span> <span class="fl">1</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>Define the {apollo} probabilities function</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">apollo_probabilities_wtp</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>  <span class="va">apollo_beta</span>, <span class="va">apollo_inputs</span>, <span class="va">functionality</span> <span class="op">=</span> <span class="st">"estimate"</span></span>
<span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>    <span class="co">### Attach inputs and detach after function exit</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_attach.html" class="external-link">apollo_attach</a></span><span class="op">(</span><span class="va">apollo_beta</span>, <span class="va">apollo_inputs</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_detach.html" class="external-link">apollo_detach</a></span><span class="op">(</span><span class="va">apollo_beta</span>, <span class="va">apollo_inputs</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co">### Create list of probabilities P</span></span>
<span>    <span class="va">P</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co">### List of utilities: these must use the same names as in mnl_settings,</span></span>
<span>    <span class="co">#   order is irrelevant</span></span>
<span>    <span class="va">V</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">V</span><span class="op">[[</span><span class="st">"dannon"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">scalePar</span> <span class="op">*</span> <span class="op">(</span><span class="va">b_feat</span> <span class="op">*</span> <span class="va">feat_dannon</span> <span class="op">-</span> <span class="va">price_dannon</span><span class="op">)</span></span>
<span>    <span class="va">V</span><span class="op">[[</span><span class="st">"hiland"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">scalePar</span> <span class="op">*</span> <span class="op">(</span><span class="va">b_brandhiland</span> <span class="op">+</span> <span class="va">b_feat</span> <span class="op">*</span> <span class="va">feat_hiland</span> <span class="op">-</span> <span class="va">price_hiland</span><span class="op">)</span></span>
<span>    <span class="va">V</span><span class="op">[[</span><span class="st">"weight"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">scalePar</span> <span class="op">*</span> <span class="op">(</span><span class="va">b_brandweight</span> <span class="op">+</span> <span class="va">b_feat</span> <span class="op">*</span> <span class="va">feat_weight</span> <span class="op">-</span> <span class="va">price_weight</span><span class="op">)</span></span>
<span>    <span class="va">V</span><span class="op">[[</span><span class="st">"yoplait"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">scalePar</span> <span class="op">*</span> <span class="op">(</span><span class="va">b_brandyoplait</span> <span class="op">+</span> <span class="va">b_feat</span> <span class="op">*</span> <span class="va">feat_yoplait</span> <span class="op">-</span> <span class="va">price_yoplait</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co">### Define settings for MNL model component</span></span>
<span>    <span class="va">mnl_settings</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        alternatives <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>dannon <span class="op">=</span> <span class="fl">1</span>, hiland <span class="op">=</span> <span class="fl">2</span>, weight <span class="op">=</span> <span class="fl">3</span>, yoplait <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>        avail <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>          dannon <span class="op">=</span> <span class="va">av_dannon</span>,</span>
<span>          hiland <span class="op">=</span> <span class="va">av_hiland</span>,</span>
<span>          weight <span class="op">=</span> <span class="va">av_weight</span>,</span>
<span>          yoplait <span class="op">=</span> <span class="va">av_yoplait</span><span class="op">)</span>,</span>
<span>        choiceVar <span class="op">=</span> <span class="va">choice</span>,</span>
<span>        utilities <span class="op">=</span> <span class="va">V</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="co">### Compute probabilities using MNL model</span></span>
<span>    <span class="va">P</span><span class="op">[[</span><span class="st">"model"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_mnl.html" class="external-link">apollo_mnl</a></span><span class="op">(</span><span class="va">mnl_settings</span>, <span class="va">functionality</span><span class="op">)</span></span>
<span>    <span class="co">### Take product across observation for same individual</span></span>
<span>    <span class="va">P</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_panelProd.html" class="external-link">apollo_panelProd</a></span><span class="op">(</span><span class="va">P</span>, <span class="va">apollo_inputs</span>, <span class="va">functionality</span><span class="op">)</span></span>
<span>    <span class="co">### Average across inter-individual draws</span></span>
<span>    <span class="va">P</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_avgInterDraws.html" class="external-link">apollo_avgInterDraws</a></span><span class="op">(</span><span class="va">P</span>, <span class="va">apollo_inputs</span>, <span class="va">functionality</span><span class="op">)</span></span>
<span>    <span class="co">### Prepare and return outputs of function</span></span>
<span>    <span class="va">P</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_prepareProb.html" class="external-link">apollo_prepareProb</a></span><span class="op">(</span><span class="va">P</span>, <span class="va">apollo_inputs</span>, <span class="va">functionality</span><span class="op">)</span></span>
<span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Define random parameters function</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">apollo_randCoeff</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">apollo_beta</span>, <span class="va">apollo_inputs</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">randcoeff</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">randcoeff</span><span class="op">[[</span><span class="st">'b_feat'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">feat</span> <span class="op">+</span> <span class="va">d_feat</span> <span class="op">*</span> <span class="va">sd_feat</span></span>
<span>    <span class="va">randcoeff</span><span class="op">[[</span><span class="st">'b_brandhiland'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">brandhiland</span> <span class="op">+</span> <span class="va">d_brandhiland</span> <span class="op">*</span> <span class="va">sd_brandhiland</span></span>
<span>    <span class="va">randcoeff</span><span class="op">[[</span><span class="st">'b_brandweight'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">brandweight</span> <span class="op">+</span> <span class="va">d_brandweight</span> <span class="op">*</span> <span class="va">sd_brandweight</span></span>
<span>    <span class="va">randcoeff</span><span class="op">[[</span><span class="st">'b_brandyoplait'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">brandyoplait</span> <span class="op">+</span> <span class="va">d_brandyoplait</span> <span class="op">*</span> <span class="va">sd_brandyoplait</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">randcoeff</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Main control settings for {apollo}</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">apollo_control_wtp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    modelName       <span class="op">=</span> <span class="st">"MXL_WTP_space"</span>,</span>
<span>    modelDescr      <span class="op">=</span> <span class="st">"MXL model on yogurt choice SP data, in WTP space"</span>,</span>
<span>    indivID         <span class="op">=</span> <span class="st">"id"</span>,</span>
<span>    mixing          <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    analyticGrad    <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    panelData       <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    nCores          <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set parameters for generating draws</span></span>
<span><span class="va">apollo_draws_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    interDrawsType <span class="op">=</span> <span class="st">"halton"</span>,</span>
<span>    interNDraws    <span class="op">=</span> <span class="va">numDraws_wtp</span>,</span>
<span>    interUnifDraws <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    interNormDraws <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"d_feat"</span>, <span class="st">"d_brandhiland"</span>, <span class="st">"d_brandweight"</span>, <span class="st">"d_brandyoplait"</span><span class="op">)</span>,</span>
<span>    intraDrawsType <span class="op">=</span> <span class="st">"halton"</span>,</span>
<span>    intraNDraws    <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    intraUnifDraws <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    intraNormDraws <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set input</span></span>
<span><span class="va">apollo_inputs_wtp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_validateInputs.html" class="external-link">apollo_validateInputs</a></span><span class="op">(</span></span>
<span>    apollo_beta      <span class="op">=</span> <span class="va">start_wtp</span>,</span>
<span>    apollo_fixed     <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    database         <span class="op">=</span> <span class="va">data_apollo</span>,</span>
<span>    apollo_draws     <span class="op">=</span> <span class="va">apollo_draws_n</span>,</span>
<span>    apollo_randCoeff <span class="op">=</span> <span class="va">apollo_randCoeff</span>,</span>
<span>    apollo_control   <span class="op">=</span> <span class="va">apollo_control_wtp</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="prep-for-mixl">Prep for {mixl}<a class="anchor" aria-label="anchor" href="#prep-for-mixl"></a>
</h4>
<p>Format the <code>yogurt</code> data to a “wide” format for {mixl}</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_mixl</span> <span class="op">&lt;-</span> <span class="va">data_apollo</span> <span class="co"># Uses the same "wide" format as {apollo}</span></span>
<span><span class="va">data_mixl</span><span class="op">$</span><span class="va">ID</span> <span class="op">&lt;-</span> <span class="va">data_mixl</span><span class="op">$</span><span class="va">id</span></span>
<span><span class="va">data_mixl</span><span class="op">$</span><span class="va">CHOICE</span> <span class="op">&lt;-</span> <span class="va">data_mixl</span><span class="op">$</span><span class="va">choice</span></span></code></pre></div>
<p>Define the {mixl} utility function</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mixl_wtp</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">    feat_RND = @feat + draw_1 * @sd_feat;</span></span>
<span><span class="st">    brandhiland_RND = @brandhiland + draw_2 * @sd_brandhiland;</span></span>
<span><span class="st">    brandweight_RND = @brandweight + draw_3 * @sd_brandweight;</span></span>
<span><span class="st">    brandyoplait_RND = @brandyoplait + draw_4 * @sd_brandyoplait;</span></span>
<span><span class="st">    U_1 = @scalePar * (feat_RND * $feat_dannon - $price_dannon);</span></span>
<span><span class="st">    U_2 = @scalePar * (brandhiland_RND + feat_RND * $feat_hiland - $price_hiland);</span></span>
<span><span class="st">    U_3 = @scalePar * (brandweight_RND + feat_RND * $feat_weight - $price_weight);</span></span>
<span><span class="st">    U_4 = @scalePar * (brandyoplait_RND + feat_RND * $feat_yoplait - $price_yoplait);</span></span>
<span><span class="st">"</span></span>
<span><span class="va">mixl_spec_wtp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mixl/man/specify_model.html" class="external-link">specify_model</a></span><span class="op">(</span><span class="va">mixl_wtp</span>, <span class="va">data_mixl</span><span class="op">)</span></span>
<span><span class="va">availabilities</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mixl/man/generate_default_availabilities.html" class="external-link">generate_default_availabilities</a></span><span class="op">(</span><span class="va">data_mixl</span>, <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="estimate-wtp-space-models">Estimate WTP space models<a class="anchor" aria-label="anchor" href="#estimate-wtp-space-models"></a>
</h2>
<p>The same model is now estimated using all five packages.</p>
<div class="section level3">
<h3 id="logitr">{logitr}<a class="anchor" aria-label="anchor" href="#logitr"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_logitr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/logitr.html">logitr</a></span><span class="op">(</span></span>
<span>    data      <span class="op">=</span> <span class="va">yogurt</span>,</span>
<span>    outcome   <span class="op">=</span> <span class="st">'choice'</span>,</span>
<span>    obsID     <span class="op">=</span> <span class="st">'obsID'</span>,</span>
<span>    panelID   <span class="op">=</span> <span class="st">'id'</span>,</span>
<span>    pars      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'feat'</span>, <span class="st">'brand'</span><span class="op">)</span>,</span>
<span>    scalePar  <span class="op">=</span> <span class="st">'price'</span>,</span>
<span>    randPars  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>feat <span class="op">=</span> <span class="st">"n"</span>, brand <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span>,</span>
<span>    startVals <span class="op">=</span> <span class="va">start_wtp</span>,</span>
<span>    numDraws  <span class="op">=</span> <span class="va">numDraws_wtp</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>{logitr} converges, even without running a multi-start:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; =================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model estimated on: Sat Oct 01 16:46:57 2022 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Using logitr version: 0.8.0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; logitr(data = yogurt, outcome = "choice", obsID = "obsID", pars = c("feat", </span></span>
<span><span class="co">#&gt;     "brand"), scalePar = "price", randPars = c(feat = "n", brand = "n"), </span></span>
<span><span class="co">#&gt;     panelID = "id", startVals = start_wtp, numDraws = numDraws_wtp, </span></span>
<span><span class="co">#&gt;     numCores = numCores)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Frequencies of alternatives:</span></span>
<span><span class="co">#&gt;        1        2        3        4 </span></span>
<span><span class="co">#&gt; 0.415721 0.029984 0.170989 0.383306 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Exit Status: 3, Optimization stopped because ftol_rel or ftol_abs was reached.</span></span>
<span><span class="co">#&gt;                                  </span></span>
<span><span class="co">#&gt; Model Type:           Mixed Logit</span></span>
<span><span class="co">#&gt; Model Space:   Willingness-to-Pay</span></span>
<span><span class="co">#&gt; Model Run:                 1 of 1</span></span>
<span><span class="co">#&gt; Iterations:                    85</span></span>
<span><span class="co">#&gt; Elapsed Time:            0h:0m:4s</span></span>
<span><span class="co">#&gt; Algorithm:         NLOPT_LD_LBFGS</span></span>
<span><span class="co">#&gt; Weights Used?:              FALSE</span></span>
<span><span class="co">#&gt; Panel ID:                      id</span></span>
<span><span class="co">#&gt; Robust?                     FALSE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Coefficients: </span></span>
<span><span class="co">#&gt;                   Estimate Std. Error z-value  Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; scalePar          0.388098   0.050706  7.6538 1.954e-14 ***</span></span>
<span><span class="co">#&gt; feat              1.738832   0.725107  2.3980   0.01648 *  </span></span>
<span><span class="co">#&gt; brandhiland     -13.536714   1.810701 -7.4760 7.661e-14 ***</span></span>
<span><span class="co">#&gt; brandweight      -4.510068   1.015856 -4.4397 9.010e-06 ***</span></span>
<span><span class="co">#&gt; brandyoplait      6.663869   0.929658  7.1681 7.605e-13 ***</span></span>
<span><span class="co">#&gt; sd_feat           0.491225   1.072013  0.4582   0.64679    </span></span>
<span><span class="co">#&gt; sd_brandhiland    5.730571   1.125803  5.0902 3.577e-07 ***</span></span>
<span><span class="co">#&gt; sd_brandweight   11.420500   1.727799  6.6099 3.847e-11 ***</span></span>
<span><span class="co">#&gt; sd_brandyoplait   8.872470   1.366376  6.4934 8.390e-11 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt;                                      </span></span>
<span><span class="co">#&gt; Log-Likelihood:          -732.2132421</span></span>
<span><span class="co">#&gt; Null Log-Likelihood:    -1710.6872416</span></span>
<span><span class="co">#&gt; AIC:                     1482.4264842</span></span>
<span><span class="co">#&gt; BIC:                     1528.4886000</span></span>
<span><span class="co">#&gt; McFadden R2:                0.5719771</span></span>
<span><span class="co">#&gt; Adj McFadden R2:            0.5667161</span></span>
<span><span class="co">#&gt; Number of Observations:  1234.0000000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Summary of 10k Draws for Random Coefficients: </span></span>
<span><span class="co">#&gt;              Min.     1st Qu.     Median       Mean   3rd Qu. Max.</span></span>
<span><span class="co">#&gt; feat         -Inf   1.4071720   1.738457   1.738145  2.069629  Inf</span></span>
<span><span class="co">#&gt; brandhiland  -Inf -17.4039453 -13.538553 -13.542027 -9.674388  Inf</span></span>
<span><span class="co">#&gt; brandweight  -Inf -12.2189602  -4.519436  -4.527690  3.182253  Inf</span></span>
<span><span class="co">#&gt; brandyoplait -Inf   0.6670773   6.648678   6.641070 12.632059  Inf</span></span></code></pre>
<p>Including a multi-start helps build confidence in the solution reached:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_logitr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/logitr.html">logitr</a></span><span class="op">(</span></span>
<span>    data      <span class="op">=</span> <span class="va">yogurt</span>,</span>
<span>    outcome   <span class="op">=</span> <span class="st">'choice'</span>,</span>
<span>    obsID     <span class="op">=</span> <span class="st">'obsID'</span>,</span>
<span>    panelID   <span class="op">=</span> <span class="st">'id'</span>,</span>
<span>    pars      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'feat'</span>, <span class="st">'brand'</span><span class="op">)</span>,</span>
<span>    scalePar  <span class="op">=</span> <span class="st">'price'</span>,</span>
<span>    randPars  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>feat <span class="op">=</span> <span class="st">"n"</span>, brand <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span>,</span>
<span>    startVals <span class="op">=</span> <span class="va">start_wtp</span>,</span>
<span>    numDraws  <span class="op">=</span> <span class="va">numDraws_wtp</span>,</span>
<span>    numMultiStarts <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; =================================================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model estimated on: Sat Oct 01 16:46:57 2022 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Using logitr version: 0.8.0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; logitr(data = yogurt, outcome = "choice", obsID = "obsID", pars = c("feat", </span></span>
<span><span class="co">#&gt;     "brand"), scalePar = "price", randPars = c(feat = "n", brand = "n"), </span></span>
<span><span class="co">#&gt;     panelID = "id", startVals = start_wtp, numDraws = numDraws_wtp, </span></span>
<span><span class="co">#&gt;     numCores = numCores)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Frequencies of alternatives:</span></span>
<span><span class="co">#&gt;        1        2        3        4 </span></span>
<span><span class="co">#&gt; 0.415721 0.029984 0.170989 0.383306 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Exit Status: 3, Optimization stopped because ftol_rel or ftol_abs was reached.</span></span>
<span><span class="co">#&gt;                                  </span></span>
<span><span class="co">#&gt; Model Type:           Mixed Logit</span></span>
<span><span class="co">#&gt; Model Space:   Willingness-to-Pay</span></span>
<span><span class="co">#&gt; Model Run:                 1 of 1</span></span>
<span><span class="co">#&gt; Iterations:                    85</span></span>
<span><span class="co">#&gt; Elapsed Time:            0h:0m:4s</span></span>
<span><span class="co">#&gt; Algorithm:         NLOPT_LD_LBFGS</span></span>
<span><span class="co">#&gt; Weights Used?:              FALSE</span></span>
<span><span class="co">#&gt; Panel ID:                      id</span></span>
<span><span class="co">#&gt; Robust?                     FALSE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Coefficients: </span></span>
<span><span class="co">#&gt;                   Estimate Std. Error z-value  Pr(&gt;|z|)    </span></span>
<span><span class="co">#&gt; scalePar          0.388098   0.050706  7.6538 1.954e-14 ***</span></span>
<span><span class="co">#&gt; feat              1.738832   0.725107  2.3980   0.01648 *  </span></span>
<span><span class="co">#&gt; brandhiland     -13.536714   1.810701 -7.4760 7.661e-14 ***</span></span>
<span><span class="co">#&gt; brandweight      -4.510068   1.015856 -4.4397 9.010e-06 ***</span></span>
<span><span class="co">#&gt; brandyoplait      6.663869   0.929658  7.1681 7.605e-13 ***</span></span>
<span><span class="co">#&gt; sd_feat           0.491225   1.072013  0.4582   0.64679    </span></span>
<span><span class="co">#&gt; sd_brandhiland    5.730571   1.125803  5.0902 3.577e-07 ***</span></span>
<span><span class="co">#&gt; sd_brandweight   11.420500   1.727799  6.6099 3.847e-11 ***</span></span>
<span><span class="co">#&gt; sd_brandyoplait   8.872470   1.366376  6.4934 8.390e-11 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt;                                      </span></span>
<span><span class="co">#&gt; Log-Likelihood:          -732.2132421</span></span>
<span><span class="co">#&gt; Null Log-Likelihood:    -1710.6872416</span></span>
<span><span class="co">#&gt; AIC:                     1482.4264842</span></span>
<span><span class="co">#&gt; BIC:                     1528.4886000</span></span>
<span><span class="co">#&gt; McFadden R2:                0.5719771</span></span>
<span><span class="co">#&gt; Adj McFadden R2:            0.5667161</span></span>
<span><span class="co">#&gt; Number of Observations:  1234.0000000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Summary of 10k Draws for Random Coefficients: </span></span>
<span><span class="co">#&gt;              Min.     1st Qu.     Median       Mean   3rd Qu. Max.</span></span>
<span><span class="co">#&gt; feat         -Inf   1.4071720   1.738457   1.738145  2.069629  Inf</span></span>
<span><span class="co">#&gt; brandhiland  -Inf -17.4039453 -13.538553 -13.542027 -9.674388  Inf</span></span>
<span><span class="co">#&gt; brandweight  -Inf -12.2189602  -4.519436  -4.527690  3.182253  Inf</span></span>
<span><span class="co">#&gt; brandyoplait -Inf   0.6670773   6.648678   6.641070 12.632059  Inf</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="mixl">{mixl}<a class="anchor" aria-label="anchor" href="#mixl"></a>
</h3>
<p>First attempt using same starting points as {logitr}</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_mixl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mixl/man/estimate.html" class="external-link">estimate</a></span><span class="op">(</span></span>
<span>    <span class="va">mixl_spec_wtp</span>, <span class="va">start_wtp</span>,</span>
<span>    <span class="va">data_mixl</span>, <span class="va">availabilities</span>,</span>
<span>    nDraws <span class="op">=</span> <span class="va">numDraws_wtp</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>{mixl} converges to a local minimum:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_mixl</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1]  -732.2132 -1544.8531</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_mixl</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                        [,1]        [,2]</span></span>
<span><span class="co">#&gt; scalePar          0.3880976 -2270.55731</span></span>
<span><span class="co">#&gt; feat              1.7388324    42.24281</span></span>
<span><span class="co">#&gt; brandhiland     -13.5367140    24.36731</span></span>
<span><span class="co">#&gt; brandweight      -4.5100684   110.99687</span></span>
<span><span class="co">#&gt; brandyoplait      6.6638687  -492.36959</span></span>
<span><span class="co">#&gt; sd_feat           0.4912255    10.81470</span></span>
<span><span class="co">#&gt; sd_brandhiland    5.7305708    10.23414</span></span>
<span><span class="co">#&gt; sd_brandweight   11.4204997   334.92761</span></span>
<span><span class="co">#&gt; sd_brandyoplait   8.8724698   915.14924</span></span></code></pre>
<p>Second attempt using {logitr} solution as starting points</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_mixl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mixl/man/estimate.html" class="external-link">estimate</a></span><span class="op">(</span></span>
<span>    <span class="va">mixl_spec_wtp</span>, <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>,</span>
<span>    <span class="va">data_mixl</span>, <span class="va">availabilities</span>,</span>
<span>    nDraws <span class="op">=</span> <span class="va">numDraws_wtp</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Again, {mixl} converges to a local minimum:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_mixl</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1]  -732.2132 -1544.8531</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_mixl</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                        [,1]        [,2]</span></span>
<span><span class="co">#&gt; scalePar          0.3880976 -2270.55731</span></span>
<span><span class="co">#&gt; feat              1.7388324    42.24281</span></span>
<span><span class="co">#&gt; brandhiland     -13.5367140    24.36731</span></span>
<span><span class="co">#&gt; brandweight      -4.5100684   110.99687</span></span>
<span><span class="co">#&gt; brandyoplait      6.6638687  -492.36959</span></span>
<span><span class="co">#&gt; sd_feat           0.4912255    10.81470</span></span>
<span><span class="co">#&gt; sd_brandhiland    5.7305708    10.23414</span></span>
<span><span class="co">#&gt; sd_brandweight   11.4204997   334.92761</span></span>
<span><span class="co">#&gt; sd_brandyoplait   8.8724698   915.14924</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="gmnl">{gmnl}<a class="anchor" aria-label="anchor" href="#gmnl"></a>
</h3>
<p>First attempt using same starting points as {logitr}. Note that additional starting parameters must be added as the {gmnl} approach to estimating WTP is a slightly different model.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_gmnl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/gmnl/man/gmnl.html" class="external-link">gmnl</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">data_gmnl</span>,</span>
<span>    formula <span class="op">=</span> <span class="va">choice</span> <span class="op">~</span> <span class="va">price</span> <span class="op">+</span> <span class="va">feat</span> <span class="op">+</span> <span class="va">brand</span> <span class="op">|</span> <span class="fl">0</span> <span class="op">|</span> <span class="fl">0</span> <span class="op">|</span> <span class="fl">0</span> <span class="op">|</span> <span class="fl">1</span>,</span>
<span>    ranp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        feat <span class="op">=</span> <span class="st">"n"</span>, brandhiland <span class="op">=</span> <span class="st">"n"</span>, brandweight <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>        brandyoplait <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span>,</span>
<span>    fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fl">10</span><span class="op">)</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    model <span class="op">=</span> <span class="st">"gmnl"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"bfgs"</span>,</span>
<span>    haltons <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>    panel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">start_wtp</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    R <span class="op">=</span> <span class="va">numDraws_wtp</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>{gmnl} converges to a local minimum:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_gmnl</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1]  -732.2132 -1710.6872</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_gmnl</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                        [,1]         [,2]</span></span>
<span><span class="co">#&gt; feat              0.3880976    8.1540692</span></span>
<span><span class="co">#&gt; brandhiland       1.7388324    4.4266391</span></span>
<span><span class="co">#&gt; brandweight     -13.5367140   20.9581382</span></span>
<span><span class="co">#&gt; brandyoplait     -4.5100684  -93.0969112</span></span>
<span><span class="co">#&gt; het.(Intercept)   6.6638687 -440.5183170</span></span>
<span><span class="co">#&gt; sd.feat           0.4912255    2.4208585</span></span>
<span><span class="co">#&gt; sd.brandhiland    5.7305708    0.1085233</span></span>
<span><span class="co">#&gt; sd.brandweight   11.4204997   53.2376327</span></span>
<span><span class="co">#&gt; sd.brandyoplait   8.8724698   95.0008933</span></span>
<span><span class="co">#&gt; tau               0.3880976  653.9956379</span></span></code></pre>
<p>Second attempt using {logitr} solution as starting points:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_gmnl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/gmnl/man/gmnl.html" class="external-link">gmnl</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">data_gmnl</span>,</span>
<span>    formula <span class="op">=</span> <span class="va">choice</span> <span class="op">~</span> <span class="va">price</span> <span class="op">+</span> <span class="va">feat</span> <span class="op">+</span> <span class="va">brand</span> <span class="op">|</span> <span class="fl">0</span> <span class="op">|</span> <span class="fl">0</span> <span class="op">|</span> <span class="fl">0</span> <span class="op">|</span> <span class="fl">1</span>,</span>
<span>    ranp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        feat <span class="op">=</span> <span class="st">"n"</span>, brandhiland <span class="op">=</span> <span class="st">"n"</span>, brandweight <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>        brandyoplait <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span>,</span>
<span>    fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fl">10</span><span class="op">)</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    model <span class="op">=</span> <span class="st">"gmnl"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"bfgs"</span>,</span>
<span>    haltons <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>    panel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    R <span class="op">=</span> <span class="va">numDraws_wtp</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Error in optim(par = c(feat = 1.74, brandhiland = -13.54, brandweight = -4.51,  :</span></span>
<span><span class="co">#&gt; initial value in 'vmmin' is not finite</span></span></code></pre>
<p>In this case, {gmnl} fails due to an error with the starting values provided.</p>
</div>
<div class="section level3">
<h3 id="apollo">{apollo}<a class="anchor" aria-label="anchor" href="#apollo"></a>
</h3>
<p>First attempt using same starting points as {logitr}:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_apollo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_estimate.html" class="external-link">apollo_estimate</a></span><span class="op">(</span></span>
<span>    apollo_beta          <span class="op">=</span> <span class="va">start_wtp</span>,</span>
<span>    apollo_fixed         <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    apollo_probabilities <span class="op">=</span> <span class="va">apollo_probabilities_wtp</span>,</span>
<span>    apollo_inputs        <span class="op">=</span> <span class="va">apollo_inputs_wtp</span>,</span>
<span>    estimate_settings    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>printLevel <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>{apollo} converges to a local minimum:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_apollo</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] -732.2132 -776.5525</span></span></code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_apollo</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                        [,1]          [,2]</span></span>
<span><span class="co">#&gt; scalePar          0.3880976    0.02264706</span></span>
<span><span class="co">#&gt; feat              1.7388324   52.92881692</span></span>
<span><span class="co">#&gt; brandhiland     -13.5367140 -129.27886303</span></span>
<span><span class="co">#&gt; brandweight      -4.5100684 -104.76878544</span></span>
<span><span class="co">#&gt; brandyoplait      6.6638687   23.77062341</span></span>
<span><span class="co">#&gt; sd_feat           0.4912255   11.06432598</span></span>
<span><span class="co">#&gt; sd_brandhiland    5.7305708  -86.57222932</span></span>
<span><span class="co">#&gt; sd_brandweight   11.4204997  164.38217567</span></span>
<span><span class="co">#&gt; sd_brandyoplait   8.8724698  156.45076147</span></span></code></pre>
<p>Second attempt using {logitr} solution as starting points:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_apollo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/apollo/man/apollo_estimate.html" class="external-link">apollo_estimate</a></span><span class="op">(</span></span>
<span>    apollo_beta          <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>,</span>
<span>    apollo_fixed         <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    apollo_probabilities <span class="op">=</span> <span class="va">apollo_probabilities_wtp</span>,</span>
<span>    apollo_inputs        <span class="op">=</span> <span class="va">apollo_inputs_wtp</span>,</span>
<span>    estimate_settings    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>printLevel <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Again, {apollo} converges to a local minimum:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">model_apollo</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] -732.2132 -772.6268</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_logitr</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model_apollo</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                        [,1]          [,2]</span></span>
<span><span class="co">#&gt; scalePar          0.3880976  2.180707e-03</span></span>
<span><span class="co">#&gt; feat              1.7388324  7.365495e+02</span></span>
<span><span class="co">#&gt; brandhiland     -13.5367140 -2.378832e+03</span></span>
<span><span class="co">#&gt; brandweight      -4.5100684 -1.382908e+03</span></span>
<span><span class="co">#&gt; brandyoplait      6.6638687  1.571897e+02</span></span>
<span><span class="co">#&gt; sd_feat           0.4912255 -3.484523e+02</span></span>
<span><span class="co">#&gt; sd_brandhiland    5.7305708  9.805109e+02</span></span>
<span><span class="co">#&gt; sd_brandweight   11.4204997  1.899130e+03</span></span>
<span><span class="co">#&gt; sd_brandyoplait   8.8724698  1.211976e+03</span></span></code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by John Helveston.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
